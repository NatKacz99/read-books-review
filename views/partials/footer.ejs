<footer>
  <p><small>Okładki książek pochodzą z <a href="https://openlibrary.org/dev/docs/api/covers">
    API Open Library Covers</a></small></p>
</footer>
<script>
  document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('.ratingForm').forEach(form => {
    const stars       = form.querySelectorAll('.star');
    const ratingInput = form.querySelector('.selectedRating');

    const init = parseInt(ratingInput.value, 10);
    if (init > 0 && init <= stars.length) {
      stars.forEach((s, j) => {
        s.classList.toggle('active', j < init);
        s.innerHTML = j < init ? '&#9733;' : '&#9734;';
      });
    }

    stars.forEach((star, i) => {
      star.addEventListener('click', () => {
        const level = i + 1;
        
        ratingInput.value = level;

        // 2) aktualizujemy widok
        stars.forEach((newStar, j) => {
          newStar.classList.toggle('active', j < level);
          newStar.innerHTML = j < level ? '&#9733;' : '&#9734;';
        });

        form.submit();
      });
    });
  });
});
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
</body>

</html>